def changelogOut = new File(project.buildDir, 'changelog.md')
task writeChangelog(type: DefaultTask) {
    doLast {
        changelogOut.text = 'abc'
    }
}

jreleaser {
    project {
        name = 'Pdx-Unlimiter'
        description = 'A smart savegame manager, editor, and toolbox for all current major Paradox Grand Strategy games.'
        website = 'https://github.com/crschnick/pdx_unlimiter'
        authors = ['Christopher Schnick']
        license = 'GPL3'
        copyright = ''
    }

    release {
        github {
            owner = 'crschnick'
            overwrite = true
            tagName = '{{projectVersion}}'

            files = true
            artifacts = true
            checksums = false
            signatures = false

            prerelease {
                enabled = true
                pattern = '.*-pre'
            }

            changelog {
                enabled = false
            }
        }
    }
    distributions {
        app {
            artifact {
                distributionType = 'BINARY'
                path = 'build/pdx_unlimiter-windows.zip'
            }
        }
    }

    announce {
        discord {
            active = 'ALWAYS'

            extraProperties.put('foo', 'bar')

            message = 'ðŸš€ {{projectNameCapitalized}} {{projectVersion}} has been released! {{releaseNotesUrl}}'

            messageTemplate = 'misc/discord.tpl'
        }
    }
}